@model WebOA.Model.UserInfo
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <title>Add</title>
    <script>
        function AddAfter(msg) {
            if (msg == "ok") {
                window.location.href = "@Url.Action("Index","UserInfo")";
            } else {
                alert("添加失败");
            }
        }

        /**
        * Forward port jQuery.live()
        * Wrapper for newer jQuery.on()
        * Uses optimized selector context
        * Only add if live() not already existing.
        */
        if (typeof jQuery.fn.live == 'undefined' || !(jQuery.isFunction(jQuery.fn.live))) {
            jQuery.fn.extend({
                live: function (event, callback) {
                    if (this.selector) {
                        jQuery(document).on(event, this.selector, callback);
                    }
                }
            });
        }
    </script>

    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
</head>
<body>
    <div>
        @using (Ajax.BeginForm("Add", "UserInfo", new AjaxOptions()
        {
            OnSuccess = "AddAfter"
        }))
        {
            <table border="1">
                <tr>
                    <td>姓名：</td>
                    <td>@Html.TextBoxFor(u => u.UserName)</td>
                </tr>

                <tr>
                    <td colspan="2" align="center">
                        <input type="submit" value="添加" />
                    </td>
                </tr>
            </table>
        }
    </div>
</body>
</html>
